<center><h1>
Creating the package and Robot Description
</h1></center>

<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>


<p><strong>If</strong></p>
<p>the <code>mini_bot_1.urdf.xacro</code> file was ready, i.e.:</p>
<ul>
<li><code>mini_bot_1.urdf.xacro</code> file would have the <strong>definition</strong> of all the <strong>links</strong> and <strong>joints</strong> on the robot, along with the planar move <strong>gazebo plugin</strong> to define a model for actuating and feedback.</li>
</ul>
<p><strong>Then</strong></p>
<p>we would be able to</p>
<ul>
<li>run <code>ros2 launch ros_task_2.launch.py</code> to open gazebo with the bot inside it <br>
This launch file will be provided by us. (Linking will be found in this document)</li>
<li>and <code>ros2 run teleop_twist_keyboard teleop_twist_keyboard.py</code> to control the simulated robot!</li>
</ul>
<p><strong>But</strong> </p>
<p>the <code>mini_bot_1.urdf.xacro</code> is not ready yet‚Ä¶ So let's get started with that.</p>
<hr />
<h2 id="robot-description"><a class="header" href="#robot-description">Robot Description</a></h2>
<p>Now for the <code>mini_bot_1.urdf.xacro</code> file,
Following is part of the contents of the urdf file:</p>

```xml
<?xml version="1.0" ?>
<!-- 
*****************************************************************************************
*
*        =============================================
*                  Cyborg ROS Task-2
*        =============================================
*
*
*  Filename:            mini_bot.urdf.xacro
*  Created:            	11-09-2023 (by:Srivenkateshwar(e-yantra team))
*  Last Modified:       04-07-2024
*  Modified by:         SOumitra Naik   
*  
*****************************************************************************************
-->


<robot name="mini_bot" xmlns:xacro="http://www.ros.org/wiki/xacro">
    <xacro:include filename="$(find mini_bot)/urdf/materials.xacro"/>
    
    <link name ="footprint_link">

    </link>
    <joint name="footprint_joint" type="fixed">
         <origin
                xyz="0.0 0.0 0.0"
                rpy="0 0 1.047" />
        <parent link="footprint_link"/>
        <child link="base_link"/>
        
        
    </joint>

    <!--Base link-->
    <link name ="base_link">
        <inertial>
            <origin xyz="0 0.0 0.28" rpy="0 0 0" />
            <mass
                value="0.28" />
            <inertia
                ixx="0.011666666666667"
                ixy="0"
                ixz="0"
                iyy="0.011666666666667"
                iyz="0"
                izz="0.011666666666667" />    

        </inertial>
         <collision name="collision">
            <origin
                xyz="0 0.0 0.28"
                rpy="0 0 0" />
          
            <geometry>
                <mesh filename ="file://$(find mini_bot)/meshes/bot_1.dae" scale="0.01  0.01 0.01"/>
                    
            </geometry>
        </collision>
        <visual>
            <origin
                xyz="0 0 0.28"
                rpy="0 0 0" />
            <geometry>
                <mesh 
                filename ="file://$(find mini_bot)/meshes/bot_1.dae" scale="0.01  0.01 0.01"/>
            </geometry>
         
        </visual>
    </link>
.
.
<!-- lot more stuff needs to go here -->
.
.   
</robot>
```


<p>This is how we‚Äôll need to start the robot definition.</p>
<p><code>&lt;?xml version=&quot;1.0&quot; ?&gt;</code></p>
<p>This XML declaration just describes some of the most general properties of the document.</p>
<pre><code class="language-xml">&lt;robot name=&quot;mini_bot&quot;&gt;
&lt;!-- Start of Robot Definition
Inside which we shall have all of the remaining definitions, which will end with the last line of the file: --&gt;
&lt;/robot&gt;
</code></pre>



<pre><code class="language-xml">&lt;link name=&quot;base_link&quot;&gt;
&lt;/link&gt;
</code></pre>
<p>This element is the definition of the chassis of the robot. A single rigid body.</p>
<ul>
<li><strong>inertial</strong>: To define the inertial properties of the rigid body (chassis)
<ul>
<li>origin</li>
<li>mass</li>
<li>inertia matrix: this was generated by solidworks and may or may not accurate, but do note it is a diagonal matrix as expected.</li>
</ul>
</li>
<li><strong>visual</strong>: To describe only how it LOOKS.
<ul>
<li>origin</li>
<li>geometry: Here we enter an STL file (mesh file) for the purpose of visualisation.</li>
</ul>
</li>
<li><strong>collision</strong>: To describe its interaction with the world.
<ul>
<li>origin</li>
<li>geometry: Here we simplify the shape to simple cylinders to make processing collisions easier for gazebo (while still maintaining a  reasonable match with the real shape).</li>
</ul>
</li>
</ul>
<p>Similarly here is the definition of one more link: the right wheel of a three-omni-wheeled bot:</p>


```xml
 
     <!-- right_wheel -->
    <link name ="Right_wheel">
        <inertial>
            <origin
                xyz="0.0 -0.05 0.0"
                rpy="-1.57 0.0 0.0"/>
            <mass
                value="0.060" />
            <inertia
                ixx="1.825e-4"
                ixy="0"
                ixz="0.00000000"
                iyy="1.825e-4"
                iyz="0"
                izz="1.825e-4" /> 
            
        </inertial>
         <collision name="R_collision">
         <origin
                xyz="0.0 -0.05 0.0"
                rpy="-1.57 0.0 0.0" />
          <geometry>
            <cylinder length="0.13" radius="0.14"/>
          </geometry>
        </collision>

        <visual>
            <origin
            xyz="0.0 0.0 0.0"
            rpy="0 0 0.0" />
            <geometry>
                <mesh filename ="file://$(find mini_bot)/meshes/wheel.stl" scale="5 5 5"/>
            </geometry>
            
        </visual>
    </link>

```

<p>This is almost exactly the same as the chassis link definition. So with no further explanation, Let‚Äôs add this to the above robot definition.</p>
<p>Now that we have two links in our file, let‚Äôs add a joint between the two.</p>

```xml
    <!-- Joint -->
    <!--Right wheel joint -->
    <joint name ="Right_wheel_joint" type="continuous" >
        <origin
             xyz="0.58 -0.36 0.18"
            rpy="0.0 0.0 -2.12" />
        <parent link="base_link"/>
        <child link="Right_wheel"/>
        <axis xyz="0.0 1.0 0.0"/>
         <limit
            effort="5"
            velocity="5" />
    </joint>
```

<p>This element is how we <em><strong>define a joint between two links</strong></em>.</p>
<pre><code>&lt;joint name=&quot;right_wheel_joint&quot; type=&quot;continuous&quot;&gt;
&lt;/joint&gt;
</code></pre>
<p>the <strong>type = ‚Äúcontinuous‚Äù</strong> here means to create a simple revolute joint.</p>
<p>The elements within this element are pretty self-explanatory.</p>
<p>The <strong>origin</strong> x,y,z, roll, pitch, yaw, is what defines the position of the joint between the <strong>‚Äúparent link‚Äù</strong> and the <strong>‚Äúchild link‚Äù</strong>. The <strong>axis</strong> define the axis of the revolute joint being defined. And the <strong>limit</strong> puts some limit on the motion of the joint.</p>
<p>And there you go! we have a robot with one wheel!üòÑ
All we need to do now is add two more wheels to the bot, and of course the gazebo plugin!</p>
<p>...</p>

<hr />
<h2 id="task"><a class="header" href="#task">Task</a></h2>
<p><strong>Problem Statement:</strong> Add one more wheel <strong>(rear wheel)</strong> to the xacro file.</p>
<p>One useful hint:
the main element that changes from front wheel to left or right wheel is it‚Äôs origin.
The x and y will change to +/-0.58 and +/-0.36 for the left/right wheels.
We‚Äôll let you figure out the roll, pitch, and yaw by yourself.</p>


Just launch the launch file, run the teleop node as described at the start and have fun driving around the Mini Bot!</p>
<p>BONUS: Observe the Holonomic Mode in teleop package. and figure out what teleop is actually doing by using <code>echo</code> and <code>info</code>. For Ex:<code>ros2 topic info /cmd_vel</code>.</p>
<hr />
